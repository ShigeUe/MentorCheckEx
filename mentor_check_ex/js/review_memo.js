(()=>{"use strict";class e{#e=document.body;queryId(e){const t=document.getElementById(e);if(null===t)throw new Error(`要素が取得できませんでした。ID:${e}`);return t}static queryId(e){const t=document.getElementById(e);if(null===t)throw new Error(`要素が取得できませんでした。ID:${e}`);return t}static queryAll(e){return document.querySelectorAll(e)}queryAll(e){return this.#e.querySelectorAll(e)}static query(e,t){const r=document.querySelector(e);if(null===r){if(void 0===t||void 0!==t&&!t)throw new Error(`要素が取得できませんでした。Selector:${e}`);return null}return r}query(e,t){const r=this.#e.querySelector(e);if(null===r){if(void 0===t||void 0!==t&&!t)throw new Error(`要素が取得できませんでした。Selector:${e}`);return null}return r}get_document(){return this.#e}set_document(e){return this.#e=e,this}}class t{_element;constructor(e){this._element="string"==typeof e?document.createElement(e):"object"==typeof e?e:document.createElement("s")}static create(e){return new t(e)}addClass(e){return"string"==typeof e&&""!==e?this._element.classList.add(e):e&&"Array"===e.constructor.name&&e.forEach((e=>this.addClass(e)),this),this}removeClass(e){return this._element.classList.remove(e),this}addEventListener(e,t){return this._element.addEventListener(e,t),this}prop(e,t){if("object"==typeof e)this._setObjectProp(this._element,e);else{const r=this._element;if(void 0===t)return e in r?String(r[e]):"";e in r&&(r[e]=t)}return this}_setObjectProp(e,t){Object.keys(t).forEach((r=>{const n=t[r],o=e;"object"==typeof n?this._setObjectProp(o[r],n):o[r]=n}),this)}get(){return this._element}set(e){return this.constructor(e),this}appendChild(e){return this._element.append(e instanceof t?e.get():e),this}insertFirst(e){return this._element.insertBefore(e instanceof t?e.get():e,this._element.firstChild),this}text(e){return void 0===e?this._element.innerText:(this._element.innerText=e,this)}style(e){return Object.keys(e).forEach((t=>{this._element.style.setProperty(t,e[t])}),this),this}}(async()=>{const r=e.query('#page-content-wrapper .list-inline li a[href$="/memos"]',!0);if(!r||"0"===r.innerText.substring(0,1))return void(e.queryId("page-content-wrapper").style.opacity="1");const n=r.attributes.getNamedItem("href").value,o=await fetch(n,{method:"GET",mode:"same-origin",credentials:"include"});if(!o.ok)throw new Error("HTTP error! status: "+o.status);const s=await o.text(),i=document.implementation.createHTMLDocument("").documentElement;i.innerHTML=s;const c=new e;if(c.set_document(i),!c.query("#page-content-wrapper .col-lg-12 .button-bar + div",!0))return void(e.queryId("page-content-wrapper").style.opacity="1");const l=c.query("#page-content-wrapper .col-lg-12").children,a=e.query('a[href$="/memos"]')?.closest("li");if(!a)return void(e.queryId("page-content-wrapper").style.opacity="1");a.style.display="block";const u=t.create(a),d=t.create("div").prop("id","metor-check-ex-memo");d.appendChild(t.create("hr"));for(let e=5;e<l.length;e++){if("HR"===l[e].tagName){d.appendChild(t.create("hr"));continue}const r=l[e].innerText.replace("削除","");if(!r)continue;const n=t.create("p");if("DIV"===l[e].tagName){const e=t.create("strong").text(r);n.appendChild(e)}else n.text(r);d.appendChild(n)}const h=t.create("a").text("メモ一覧をここに表示").prop({href:n,id:"metor-check-ex-button"});h.addEventListener("click",(t=>(t.preventDefault(),e.queryId("metor-check-ex-memo").classList.toggle("opened"),!1))),u.appendChild(h),u.appendChild(d),e.queryId("page-content-wrapper").style.opacity="1"})()})();