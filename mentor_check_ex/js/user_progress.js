(()=>{"use strict";class e{#e=document.body;queryId(t){return e.queryId(t)}static queryId(e){const t=document.getElementById(e);if(null===t)throw new Error(`要素が取得できませんでした。ID:${e}`);return t}static queryAll(e){return document.querySelectorAll(e)}queryAll(e){return this.#e.querySelectorAll(e)}static query(t,n){return e._query(null,t,n??!1)}query(t,n){return e._query(this.#e,t,n??!1)}static _query(e,t,n){const r=(e??document).querySelector(t);if(null===r){if(void 0===n||void 0!==n&&!n)throw new Error(`要素が取得できませんでした。Selector:${t}`);return null}return r}get_document(){return this.#e}set_document(e){return this.#e=e,this}static notify(e,t){chrome.runtime.sendMessage({type:"notification",title:e,body:t})}}class t{_element;constructor(e){this._element=this.initialize(e)}initialize(e){return"string"==typeof e?document.createElement(e):"object"==typeof e?e:document.createElement("s")}static create(e){return new t(e)}addClass(e){return"string"==typeof e&&""!==e?this._element.classList.add(e):e&&"Array"===e.constructor.name&&e.forEach((e=>this.addClass(e)),this),this}removeClass(e){return this._element.classList.remove(e),this}addEventListener(e,t){return this._element.addEventListener(e,t),this}prop(e,t){if("object"==typeof e)this._setObjectProp(this._element,e);else{const n=this._element;if(void 0===t)return e in n?String(n[e]):"";e in n&&(n[e]=t)}return this}_setObjectProp(e,t){Object.keys(t).forEach((n=>{const r=t[n];"object"==typeof r?this._setObjectProp(e[n],r):e[n]=r}),this)}get(){return this._element}set(e){return this._element=this.initialize(e),this}appendChild(e){return this._element.append(e instanceof t?e.get():e),this}insertFirst(e){return this._element.insertBefore(e instanceof t?e.get():e,this._element.firstChild),this}text(e){return void 0===e?this._element.innerText:(this._element.innerText=e,this)}style(e){return Object.keys(e).forEach((t=>{console.log(t,e[t]),this._element.style.setProperty(t,e[t])}),this),this}}const n=[],r=(e,t)=>{const r=e+1>=n.length?null:n[e+1];for(let i=n[e];i!=r;i=i.nextSibling)"hide"===t?(i.style.opacity="0",setTimeout((()=>{i.style.display="none"}),200)):(i.style.display="",setTimeout((()=>{i.style.opacity=""}),1))},i=e.queryAll("h3 + h4");if(i.length>1&&(i.forEach((e=>{n.push(e.previousSibling)})),n.length)){const i=t.create("div").addClass("add-margin-top-15"),s=t.create("label").addClass(["add-margin-wide-15"]),l=t.create("span").addClass(["add-margin-left-10","font-weight-normal"]).text("コース絞り込み："),o=t.create("select").addClass(["font-weight-normal","add-padding-5"]);o.addEventListener("change",(e=>{const t=e.target;if(t.selectedIndex){for(let e=0;e<n.length;e++)e!==t.selectedIndex-1&&r(e,"hide");r(t.selectedIndex-1,"show")}else for(let e=0;e<n.length;e++)r(e,"show")})),o.appendChild(t.create("option").prop("value","0").text("全表示")),n.forEach(((e,n)=>{const r=t.create("option").prop("value",String(n+1)).text(e.innerText);o.appendChild(r)})),s.appendChild(l),s.appendChild(o),i.appendChild(s),e.query(".container-fluid .row .col-lg-12").insertBefore(i.get(),n[0])}})();