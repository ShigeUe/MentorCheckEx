"use strict";(async()=>{if(window.location.href.match(/https:\/\/app.slack.com\/client\/T06LC7QNM\//))return;const e=await new Promise(((e,t)=>{chrome.storage.local.get({chime:!1,volume:50,watchSlack:!1,warningChannel:""},e)}));if(e.watchSlack){console.debug(Date.now()+" Injecting the script into Slack.");const t=chrome.runtime.getURL("js/slack.js"),n=document.createElement("script");if(n.src=t,document.head.appendChild(n),console.debug(Date.now()+" Add the event listener for MentorCheckEx."),window.addEventListener("message",(e=>{if("https://app.slack.com"===e.origin&&e.data.SlackMessageData){const t=JSON.parse(e.data.SlackMessageData);console.debug(Date.now()+" Send the message to MentorCheckEx."),console.debug(t);const n=document.querySelector(".p-ia4_home_header_menu__team_name").innerText;chrome.runtime.sendMessage("",{type:"slack",title:n,data:t}).then((()=>{}),(()=>{}))}}),!1),e.warningChannel){const t=e.warningChannel.split("\n");let n="";if(t.map((e=>{const t=e.trim();n+=`#${t}{background-color:#ff000033;}\n`})),n){const e=document.createElement("style");e.innerHTML=n,document.head.appendChild(e)}}}})();